# 目标

限制用户访问接口的接口的速度, 防止用户恶意刷接口

限制服务总体访问接口的速度, 防止服务崩溃



# 服务限流

限制服务总体访问接口的速度

​	服务在配置探活之后, 会反应出服务真实的可用性, 需要加强springboot actuator的探活准确性

​	后端线程可用性大于服务线程



# 注册登陆限流

独立服务

用户ID注册限流(小量)

用户ID登陆限流(大量)



# 用户限流

## ngixn

ip? 部分地区可能用同一个路由器, 导致出口Ip一致, 导致统计偏差过大, 与真实场景偏离

token? 也许可以



集群性? 

​	lua + redis



## 自定义网关

用户ID限流接口

​	不同接口不同的限流值



